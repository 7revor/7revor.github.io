{"remainingRequest":"/Users/7revor/WebstormProjects/vue_press/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/7revor/WebstormProjects/vue_press/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/7revor/WebstormProjects/vue_press/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/7revor/WebstormProjects/vue_press/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/7revor/WebstormProjects/vue_press/docs/React/ActionSheet.md?vue&type=template&id=2d6d45d8&","dependencies":[{"path":"/Users/7revor/WebstormProjects/vue_press/docs/React/ActionSheet.md","mtime":1553499178952},{"path":"/Users/7revor/WebstormProjects/vue_press/node_modules/cache-loader/dist/cjs.js","mtime":1553505755456},{"path":"/Users/7revor/WebstormProjects/vue_press/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1553505756301},{"path":"/Users/7revor/WebstormProjects/vue_press/node_modules/cache-loader/dist/cjs.js","mtime":1553505755456},{"path":"/Users/7revor/WebstormProjects/vue_press/node_modules/vue-loader/lib/index.js","mtime":1553505756301},{"path":"/Users/7revor/WebstormProjects/vue_press/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1553505767409}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._ssrNode(\"<p>最近要用到一个选择菜单，由于nuke自带的样式不符合项目的统一样式规范，所以自己抽了一个出来，关键代码是动态向body插入子元素以及transition效果的实现。\\n <img src=\\\"https://upload-images.jianshu.io/upload_images/15088677-3d3896c335a45b1d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\\\" alt=\\\"IMG_3826.PNG\\\"></p> <h2 id=\\\"调用示例\\\"><a href=\\\"#调用示例\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 调用示例</h2> <div class=\\\"language-javascript extra-class\\\"><pre class=\\\"language-javascript\\\"><code><span class=\\\"token keyword\\\">const</span> data <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n    onSale<span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">'出售中'</span><span class=\\\"token punctuation\\\">,</span>\\n    inventory<span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">'仓库中'</span><span class=\\\"token punctuation\\\">,</span>\\n    all<span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">'全部'</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nActionSheet<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">select</span><span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">result</span><span class=\\\"token operator\\\">=&gt;</span><span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\">//result:{key:'onSale',value:'出售中'}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre></div><blockquote><p>1-16优化，选项过多超过一屏后显示滚动列表，高度响应qap安卓键盘呼出关闭</p></blockquote> <h2 id=\\\"组件实现\\\"><a href=\\\"#组件实现\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 组件实现</h2> <div class=\\\"language-javascript extra-class\\\"><pre class=\\\"language-javascript\\\"><code><span class=\\\"token comment\\\">/**\\n * Actionsheet\\n * 下拉动作菜单\\n * @author lxy\\n */</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span>createElement<span class=\\\"token punctuation\\\">,</span> PureComponent<span class=\\\"token punctuation\\\">,</span> render<span class=\\\"token punctuation\\\">,</span> unmountComponentAtNode<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'rax'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span>View<span class=\\\"token punctuation\\\">,</span> Text<span class=\\\"token punctuation\\\">,</span> TouchableHighlight<span class=\\\"token punctuation\\\">,</span> Dimensions<span class=\\\"token punctuation\\\">,</span>ScrollView<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'nuke'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> style <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./style.less'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token constant\\\">QN</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'QAP-SDK'</span>\\n<span class=\\\"token keyword\\\">import</span> doTransition <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">&quot;$util/PyTransition&quot;</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">let</span> <span class=\\\"token punctuation\\\">{</span>height<span class=\\\"token punctuation\\\">,</span> width<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> Dimensions<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`screen`</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token comment\\\">//获取屏幕宽高</span>\\n<span class=\\\"token keyword\\\">let</span> pureHeight <span class=\\\"token operator\\\">=</span> height <span class=\\\"token operator\\\">/</span> <span class=\\\"token punctuation\\\">(</span>width <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">750</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">200</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token punctuation\\\">(</span>width <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">750</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">//根据比例计算屏幕真实高度</span>\\n<span class=\\\"token keyword\\\">let</span> keyBoardHeight <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token comment\\\">//键盘高度</span>\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span><span class=\\\"token constant\\\">QN</span><span class=\\\"token punctuation\\\">.</span>os<span class=\\\"token punctuation\\\">.</span>ios<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token constant\\\">QN</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'Global.KeyboardWillShow'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\"><span class=\\\"token punctuation\\\">{</span>height<span class=\\\"token punctuation\\\">}</span></span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n    keyBoardHeight <span class=\\\"token operator\\\">=</span> height\\n    Actionsheet<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateHeight</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">//重新计算组件高度</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token constant\\\">QN</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'Global.KeyboardWillHide'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n    keyBoardHeight <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span>\\n    Actionsheet<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateHeight</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Actionsheet</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">PureComponent</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">/**\\n   *\\n   * @param data eg:{onSale:`出售中`,out:`已售完`}\\n   * @returns {Promise&lt;any&gt;}\\n   */</span>\\n  <span class=\\\"token keyword\\\">static</span> <span class=\\\"token function\\\">select</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">data</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span>SelectDown<span class=\\\"token punctuation\\\">.</span>isExist<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      Actionsheet<span class=\\\"token punctuation\\\">.</span>isExist <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">;</span><span class=\\\"token comment\\\">//单例模式，同一页面只允许存在一个实例</span>\\n      Actionsheet<span class=\\\"token punctuation\\\">.</span>dom <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'div'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span><span class=\\\"token comment\\\">//页面渲染节点</span>\\n      document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">appendChild</span><span class=\\\"token punctuation\\\">(</span>Actionsheet<span class=\\\"token punctuation\\\">.</span>dom<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span><span class=\\\"token comment\\\">//将dom节点插入document</span>\\n      <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'&lt;SelectDown data={data}/&gt;'</span><span class=\\\"token punctuation\\\">,</span> Actionsheet<span class=\\\"token punctuation\\\">.</span>dom<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span><span class=\\\"token comment\\\">//渲染组件到dom节点中</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Promise</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">resolve<span class=\\\"token punctuation\\\">,</span> reject</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n        Actionsheet<span class=\\\"token punctuation\\\">.</span>promise <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>resolve<span class=\\\"token punctuation\\\">,</span> reject<span class=\\\"token punctuation\\\">}</span><span class=\\\"token comment\\\">//回调promise</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">componentDidMount</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> option <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      timingFunction<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'ease-in-out'</span><span class=\\\"token punctuation\\\">,</span>\\n      delay<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n      duration<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">200</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token comment\\\">//初始化动画效果，遮罩层由透明变为0.5，body区域内容从最底部上滑</span>\\n    <span class=\\\"token function\\\">doTransition</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>refs<span class=\\\"token punctuation\\\">.</span>side<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>transform<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`translateY(</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span><span class=\\\"token operator\\\">-</span>Actionsheet<span class=\\\"token punctuation\\\">.</span>bottom <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">10</span><span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">)`</span></span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> option<span class=\\\"token punctuation\\\">)</span><span class=\\\"token comment\\\">//10 marginBottom</span>\\n    <span class=\\\"token function\\\">doTransition</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>refs<span class=\\\"token punctuation\\\">.</span>mask<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>backgroundColor<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgba(0,0,0,0.5)'</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">props</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">let</span> <span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> props\\n    <span class=\\\"token keyword\\\">super</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> map <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Map</span><span class=\\\"token punctuation\\\">(</span>Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">entries</span><span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      map<span class=\\\"token punctuation\\\">,</span>\\n      showSide<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n      remainHeight<span class=\\\"token punctuation\\\">:</span>pureHeight<span class=\\\"token operator\\\">-</span>keyBoardHeight<span class=\\\"token punctuation\\\">,</span>\\n      allHeight<span class=\\\"token punctuation\\\">:</span><span class=\\\"token punctuation\\\">(</span>map<span class=\\\"token punctuation\\\">.</span>size <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">114</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">16</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token comment\\\">////计算组件高度，(数据长度+取消)*114+取消marginTop</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n   Actionsheet<span class=\\\"token punctuation\\\">.</span>instance<span class=\\\"token operator\\\">=</span><span class=\\\"token keyword\\\">this</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span>remainHeight<span class=\\\"token punctuation\\\">,</span>allHeight<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state\\n    Actionsheet<span class=\\\"token punctuation\\\">.</span>bottom <span class=\\\"token operator\\\">=</span> remainHeight<span class=\\\"token operator\\\">&gt;</span>allHeight<span class=\\\"token operator\\\">?</span>allHeight<span class=\\\"token punctuation\\\">:</span>remainHeight\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">destroy</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token function\\\">unmountComponentAtNode</span><span class=\\\"token punctuation\\\">(</span>SelectDown<span class=\\\"token punctuation\\\">.</span>dom<span class=\\\"token punctuation\\\">)</span><span class=\\\"token comment\\\">//销毁react实例</span>\\n    document<span class=\\\"token punctuation\\\">.</span>body<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">removeChild</span><span class=\\\"token punctuation\\\">(</span>SelectDown<span class=\\\"token punctuation\\\">.</span>dom<span class=\\\"token punctuation\\\">)</span><span class=\\\"token comment\\\">//移除dom节点</span>\\n    Actionsheet<span class=\\\"token punctuation\\\">.</span>isExist <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token comment\\\">//销毁组件</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">chooseItem</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\"><span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">,</span> value<span class=\\\"token punctuation\\\">}</span></span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Actionsheet<span class=\\\"token punctuation\\\">.</span>promise<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">,</span> value<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token comment\\\">//处理选择事件</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">destroy</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token comment\\\">//渲染选项列表</span>\\n  <span class=\\\"token function-variable function\\\">renderBody</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">let</span> self <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> list <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span>\\n    <span class=\\\"token keyword\\\">let</span> i <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">let</span> <span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">,</span> values<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token keyword\\\">of</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">entries</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">let</span> ownStyle<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>i <span class=\\\"token operator\\\">==</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token comment\\\">//处理首尾选项边框</span>\\n        ownStyle <span class=\\\"token operator\\\">=</span> styles<span class=\\\"token punctuation\\\">.</span>topBorder\\n      <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>i <span class=\\\"token operator\\\">==</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">.</span>size <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        ownStyle <span class=\\\"token operator\\\">=</span> styles<span class=\\\"token punctuation\\\">.</span>bottomBorder\\n      <span class=\\\"token punctuation\\\">}</span>\\n      list<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token operator\\\">&lt;</span>TouchableHighlight key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">}</span> style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">[</span>style<span class=\\\"token punctuation\\\">.</span>content<span class=\\\"token punctuation\\\">,</span> ownStyle<span class=\\\"token punctuation\\\">,</span> i <span class=\\\"token operator\\\">!=</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">?</span> styles<span class=\\\"token punctuation\\\">.</span>border <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">}</span>\\n                            onPress<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">chooseItem</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span>self<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">,</span> value<span class=\\\"token punctuation\\\">:</span> values<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n          <span class=\\\"token operator\\\">&lt;</span>Text style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>style<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n            <span class=\\\"token punctuation\\\">{</span>values<span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Text<span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>TouchableHighlight<span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token punctuation\\\">)</span>\\n      i<span class=\\\"token operator\\\">++</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span>remainHeight<span class=\\\"token punctuation\\\">,</span>allHeight<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state\\n    <span class=\\\"token comment\\\">//屏幕剩余高度大于选项高度，显示选项实际高度，否则显示屏幕剩余高度</span>\\n    <span class=\\\"token keyword\\\">const</span> height <span class=\\\"token operator\\\">=</span> remainHeight<span class=\\\"token operator\\\">&gt;</span>allHeight<span class=\\\"token operator\\\">?</span>allHeight<span class=\\\"token punctuation\\\">:</span>remainHeight\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>View ref<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">&quot;side&quot;</span> style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">[</span>style<span class=\\\"token punctuation\\\">.</span>bottom<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>bottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token operator\\\">-</span>Actionsheet<span class=\\\"token punctuation\\\">.</span>bottom<span class=\\\"token punctuation\\\">,</span>height<span class=\\\"token punctuation\\\">:</span>height<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token operator\\\">&lt;</span>ScrollView style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>style<span class=\\\"token punctuation\\\">.</span>list<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n          <span class=\\\"token punctuation\\\">{</span>list<span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>ScrollView<span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token operator\\\">&lt;</span>TouchableHighlight style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>style<span class=\\\"token punctuation\\\">.</span>cancle<span class=\\\"token punctuation\\\">}</span> onPress<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>destroy<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n          <span class=\\\"token operator\\\">&lt;</span>Text style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>style<span class=\\\"token punctuation\\\">.</span>textCancle<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>取消<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Text<span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>TouchableHighlight<span class=\\\"token operator\\\">&gt;</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>View<span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>View ref<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">'mask'</span> onClick<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>destroy<span class=\\\"token punctuation\\\">}</span> style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">[</span>style<span class=\\\"token punctuation\\\">.</span>container<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>height<span class=\\\"token punctuation\\\">:</span> height<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&gt;</span>\\n        <span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">renderBody</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>View<span class=\\\"token operator\\\">&gt;</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nActionsheet<span class=\\\"token punctuation\\\">.</span>isExist <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">false</span>\\nActionsheet<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">updateHeight</span><span class=\\\"token operator\\\">=</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">//更新屏幕剩余高度</span>\\n  Actionsheet<span class=\\\"token punctuation\\\">.</span>instance<span class=\\\"token operator\\\">&amp;&amp;</span> Actionsheet<span class=\\\"token punctuation\\\">.</span>instance<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n    remainHeight<span class=\\\"token punctuation\\\">:</span> pureHeight<span class=\\\"token operator\\\">-</span>keyBoardHeight\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">const</span> styles <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  topBorder<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    borderTopRightRadius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'10rem'</span><span class=\\\"token punctuation\\\">,</span>\\n    borderTopLeftRadius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'10rem'</span><span class=\\\"token punctuation\\\">,</span>\\n    height<span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">'104rem'</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  bottomBorder<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    borderBottomRightRadius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'10rem'</span><span class=\\\"token punctuation\\\">,</span>\\n    borderBottomLeftRadius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'10rem'</span><span class=\\\"token punctuation\\\">,</span>\\n    height<span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">'104rem'</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  border<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    borderTopWidth<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'1rem'</span><span class=\\\"token punctuation\\\">,</span>\\n    borderTopColor<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'#DCDEE3'</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div><p>style.less</p> <div class=\\\"language-javascript extra-class\\\"><pre class=\\\"language-javascript\\\"><code><span class=\\\"token punctuation\\\">.</span>container<span class=\\\"token punctuation\\\">{</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">750</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  flex<span class=\\\"token operator\\\">-</span>direction<span class=\\\"token punctuation\\\">:</span> column<span class=\\\"token punctuation\\\">;</span>\\n  align<span class=\\\"token operator\\\">-</span>items<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  justify<span class=\\\"token operator\\\">-</span>content<span class=\\\"token punctuation\\\">:</span> flex<span class=\\\"token operator\\\">-</span>end<span class=\\\"token punctuation\\\">;</span>\\n  background<span class=\\\"token operator\\\">-</span>color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">rgba</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  position<span class=\\\"token punctuation\\\">:</span> fixed<span class=\\\"token punctuation\\\">;</span>\\n  bottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>bottom<span class=\\\"token punctuation\\\">{</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">750</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  flex<span class=\\\"token operator\\\">-</span>direction<span class=\\\"token punctuation\\\">:</span> column<span class=\\\"token punctuation\\\">;</span>\\n  justify<span class=\\\"token operator\\\">-</span>content<span class=\\\"token punctuation\\\">:</span> flex<span class=\\\"token operator\\\">-</span>end<span class=\\\"token punctuation\\\">;</span>\\n  align<span class=\\\"token operator\\\">-</span>items<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  position<span class=\\\"token punctuation\\\">:</span> fixed<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>cancle<span class=\\\"token punctuation\\\">{</span>\\n  margin<span class=\\\"token operator\\\">-</span>top<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">16</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">710</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  justify<span class=\\\"token operator\\\">-</span>content<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  align<span class=\\\"token operator\\\">-</span>items<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">114</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  background<span class=\\\"token operator\\\">-</span>color<span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n  border<span class=\\\"token operator\\\">-</span>radius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span>rem<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>content<span class=\\\"token punctuation\\\">{</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">710</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  justify<span class=\\\"token operator\\\">-</span>content<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  align<span class=\\\"token operator\\\">-</span>items<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">114</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  background<span class=\\\"token operator\\\">-</span>color<span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>list<span class=\\\"token punctuation\\\">{</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">710</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  background<span class=\\\"token operator\\\">-</span>color<span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n  border<span class=\\\"token operator\\\">-</span>radius<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  justify<span class=\\\"token operator\\\">-</span>content<span class=\\\"token punctuation\\\">:</span> flex<span class=\\\"token operator\\\">-</span>start<span class=\\\"token punctuation\\\">;</span>\\n  align<span class=\\\"token operator\\\">-</span>items<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n  padding<span class=\\\"token operator\\\">-</span>top<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  padding<span class=\\\"token operator\\\">-</span>bottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span>rem<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>text<span class=\\\"token punctuation\\\">{</span>\\n  font<span class=\\\"token operator\\\">-</span>family<span class=\\\"token punctuation\\\">:</span> MicrosoftYaHei<span class=\\\"token punctuation\\\">;</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">710</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  font<span class=\\\"token operator\\\">-</span>size<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">32</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  color<span class=\\\"token punctuation\\\">:</span> #<span class=\\\"token number\\\">333333</span><span class=\\\"token punctuation\\\">;</span>\\n  text<span class=\\\"token operator\\\">-</span>align<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">.</span>textCancle<span class=\\\"token punctuation\\\">{</span>\\n  font<span class=\\\"token operator\\\">-</span>family<span class=\\\"token punctuation\\\">:</span> MicrosoftYaHei<span class=\\\"token punctuation\\\">;</span>\\n  width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">710</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  font<span class=\\\"token operator\\\">-</span>size<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">32</span>rem<span class=\\\"token punctuation\\\">;</span>\\n  color<span class=\\\"token punctuation\\\">:</span> #<span class=\\\"token constant\\\">F54531</span><span class=\\\"token punctuation\\\">;</span>\\n  text<span class=\\\"token operator\\\">-</span>align<span class=\\\"token punctuation\\\">:</span> center<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}